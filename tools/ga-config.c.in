#include <stdio.h>
#include <string.h>

#define STR_F77 "--f77"
#define STR_CC "--cc"
#define STR_CPPFLAGS "--cppflags"
#define STR_CFLAGS "--cflags"
#define STR_FFLAGS "--fflags"
#define STR_LDFLAGS "--ldflags"
#define STR_CLIBS "--clibs"
#define STR_FLIBS "--flibs"

const char usage[] = "ga-config [" STR_F77 "] [" STR_CC "] [" STR_CPPFLAGS "] [" STR_CFLAGS "] [" STR_FFLAGS "] [" STR_LDFLAGS "] [" STR_CLIBS "] [" STR_FLIBS "]";
const char f77[] = "@F77@";
const char cc[] = "@CC@";
const char cppflags[] = "@SCALAPACK_CPPFLAGS@ @LAPACK_CPPFLAGS@ @BLAS_CPPFLAGS@ @GA_MP_CPPFLAGS@ @ARMCI_NETWORK_CPPFLAGS@ -I@prefix@/include";
const char cflags[] = "@GA_COPT@";
const char fflags[] = "@GA_FOPT@ @FFLAG_INT@";
const char ldflags[] = "@SCALAPACK_LDFLAGS@ @LAPACK_LDFLAGS@ @BLAS_LDFLAGS@ @GA_MP_LDFLAGS@ @ARMCI_NETWORK_LDFLAGS@ -L@prefix@/lib";
const char libs[] = "-lga @SCALAPACK_LIBS@ @LAPACK_LIBS@ @BLAS_LIBS@ @GA_MP_LIBS@ @ARMCI_NETWORK_LIBS@";
const char flibs[] = "@FLIBS@";
const char enable_f77_true[] = "x@ENABLE_F77_TRUE@";

int main(int argc, char **argv)
{
    if (argc != 2) {
        printf("%s\n", usage);
        return 1;
    }

    if (0 == strcmp(STR_F77, argv[1])) {
        printf("%s\n", f77);
    }
    else if (0 == strcmp(STR_CC, argv[1])) {
        printf("%s\n", cc);
    }
    else if (0 == strcmp(STR_CPPFLAGS, argv[1])) {
        printf("%s\n", cppflags);
    }
    else if (0 == strcmp(STR_CFLAGS, argv[1])) {
        printf("%s\n", cflags);
    }
    else if (0 == strcmp(STR_FFLAGS, argv[1])) {
        printf("%s\n", fflags);
    }
    else if (0 == strcmp(STR_LDFLAGS, argv[1])) {
        printf("%s\n", ldflags);
    }
    else if (0 == strcmp(STR_CLIBS, argv[1])) {
        if (1 == strlen(enable_f77_true)) {
            printf("%s %s\n", libs, flibs);
        }
        else {
            printf("%s\n", libs);
        }
    }
    else if (0 == strcmp(STR_FLIBS, argv[1])) {
        printf("%s\n", libs);
    }
    else {
        printf("%s\n", usage);
        return 1;
    }

    return 0;
}
